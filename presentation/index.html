<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>AsciiDoc + Reveal.js Live</title>

    <!-- Reveal.js CSS -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/black.css">
    <script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js"></script>

    <style>
        .reveal section {
            text-align: left;
            font-size: 0.85em;
        }

        .reveal h2 {
            margin-bottom: 0.5em;
        }

        .reveal ul {
            margin-top: 0.5em;
        }
    </style>
</head>

<body>
<div class="reveal">
    <div class="slides">

        <!-- INTRO -->
        <section>
            <h1>Architecture orient√©e m√©tier</h1>
            <h3>Microservices, DDD, Event-Driven, Encryption</h3>
            <p>Objectif : d√©coupler, scaler et faire √©voluer le syst√®me sans le casser</p>
        </section>

        <!-- OBJECTIFS -->
        <section>
            <h2>Objectifs de l‚Äôarchitecture</h2>
            <ul>
                <li>Aligner le syst√®me sur le m√©tier</li>
                <li>R√©duire les couplages techniques</li>
                <li>Permettre l‚Äô√©volution ind√©pendante des composants</li>
                <li>Garantir la tra√ßabilit√© et la compr√©hension du syst√®me</li>
                <li>Prise en compte du RGPD</li>
            </ul>
        </section>

        <!-- MICROSERVICES -->
        <section>
            <h2>Microservices</h2>
            <p>
                Un microservice est une <strong>unit√© autonome</strong> qui porte une responsabilit√© m√©tier claire.
            </p>
            <ul>
                <li>D√©ployable ind√©pendamment</li>
                <li>Poss√®de son propre mod√®le de donn√©es</li>
                <li>Expose des API ou publie des √©v√©nements</li>
            </ul>
            <p>
                üëâ Les microservices ne sont pas un d√©coupage technique, mais un <strong>d√©coupage m√©tier</strong>.
            </p>
        </section>

        <!-- DDD -->
        <section>
            <h2>Domain-Driven Design (DDD)</h2>
            <section>
                <p>
                    Le DDD place le <strong>langage m√©tier</strong> et la <strong>compr√©hension du domaine</strong>
                    au c≈ìur de l‚Äôarchitecture.
                </p>
                <ul>
                    <li>Mod√®le align√© avec le m√©tier</li>
                    <li>Ubiquitous Language partag√©</li>
                    <li>D√©cisions techniques guid√©es par le domaine</li>
                </ul>
            </section>
            <section>
                <h2>Ubiquitous Language partag√©</h2>
                <section>
                    <p>
                        Dans une application de <strong>gestion de patrimoine fran√ßaise</strong>, qu'est-ce que la
                        <strong>Federal Tax</strong> ?
                    </p>
                </section>
            </section>
            <section>
                <p>C'est la <strong>taxe fonci√®re</strong> lol </p>
                <p>Donc</p>
                <ul>
                    <li>J'apprends que la France est une f√©d√©ration...</li>
                </ul>
                <p>Alors que</p>
                <ul>
                    <li>La taxe fonci√®re est per√ßue par la commune, le d√©partement et la r√©gion</li>
                    <li>Il existe deux taxes fonci√®res :
                        <ul>
                            <li>La taxe fonci√®re sur les propri√©t√©s b√¢ties (TFPB)</li>
                            <li>La taxe fonci√®re sur les propri√©t√©s non b√¢ties (TFPNB)</li>
                        </ul>
                    </li>
                </ul>
            </section>
        </section>

        <!-- BOUNDED CONTEXT -->
        <section>
            <h2>Contextes Born√©s</h2>
            <p>
                Un <strong>contexte born√©</strong> d√©finit une fronti√®re claire dans laquelle un mod√®le m√©tier est
                coh√©rent.
            </p>
            <ul>
                <li>Un mod√®le = un contexte</li>
                <li>Pas de partage de mod√®le entre contextes</li>
                <li>Communication explicite entre contextes</li>
            </ul>
            <p>
                üëâ En pratique, <strong>un microservice correspond souvent √† un contexte born√©</strong>.
            </p>
        </section>

        <!-- DECOUPAGE METIER -->
        <section>
            <h2>D√©coupage par domaine m√©tier</h2>
            <p>
                Le syst√®me est d√©coup√© selon les responsabilit√©s fonctionnelles :
            </p>
            <ul>
                <li>Commande</li>
                <li>Paiement</li>
                <li>Livraison</li>
                <li>Facturation</li>
            </ul>
            <p>
                Chaque domaine est autonome et √©volue sans d√©pendre des autres.
            </p>
        </section>

        <!-- EVENT DRIVEN -->
        <section>
            <h2>Architecture Event-Driven</h2>
            <p>
                Les microservices communiquent via des <strong>√©v√©nements m√©tier</strong>
                plut√¥t que par des appels synchrones.
            </p>
            <ul>
                <li>Faible couplage</li>
                <li>Scalabilit√© naturelle</li>
                <li>R√©silience accrue</li>
            </ul>
        </section>

        <!-- WHAT TO STREAM -->
        <section>
            <h2>Que streamer ?</h2>
            <p>
                Dans une architecture event-driven, un √©v√©nement repr√©sente
                <strong>quelque chose qui s‚Äôest produit</strong>.
            </p>
        </section>

        <!-- STATE -->
        <section>
            <h2>Streamer un √©tat</h2>
            <p>
                Diffuser l‚Äô√©tat courant d‚Äôune entit√©.
            </p>
            <ul>
                <li>Facile √† consommer</li>
                <li>Moins expressif m√©tier</li>
                <li>Risque d‚Äôambigu√Øt√© sur l‚Äôintention</li>
            </ul>
        </section>

        <!-- CHANGE -->
        <section>
            <h2>Streamer un changement</h2>
            <p>
                Diffuser une transition m√©tier :
                <strong>¬´ Commande valid√©e ¬ª, ¬´ Paiement accept√© ¬ª</strong>.
            </p>
            <ul>
                <li>Tr√®s expressif m√©tier</li>
                <li>Id√©al pour la propagation d‚Äôeffets</li>
                <li>Favorise l‚Äôautonomie des consommateurs</li>
            </ul>
            <p>
                üëâ C‚Äôest l‚Äôapproche privil√©gi√©e en DDD.
            </p>
        </section>

        <!-- BOTH -->
        <section>
            <h2>Les deux</h2>
            <p>
                Certains syst√®mes combinent :
            </p>
            <ul>
                <li>√âv√©nements de changement pour le m√©tier</li>
                <li>Snapshots d‚Äô√©tat pour la reconstruction ou le read-model</li>
            </ul>
        </section>

        <!-- QUERY SIDE -->
        <section>
            <h2>Lecture des donn√©es (Query Side)</h2>
            <p>
                Les besoins de lecture sont souvent diff√©rents des besoins d‚Äô√©criture.
            </p>
            <ul>
                <li>Vues optimis√©es pour le frontend</li>
                <li>Donn√©es issues de plusieurs microservices</li>
                <li>Pas de logique m√©tier critique</li>
            </ul>
        </section>

        <!-- API COMPOSITION -->
        <section>
            <h2>API Composition</h2>
            <p>
                L‚ÄôAPI Composition consiste √† agr√©ger les donn√©es
                de plusieurs microservices pour r√©pondre √† une requ√™te.
            </p>
            <ul>
                <li>Orchestration c√¥t√© backend</li>
                <li>Pas de fuite de mod√®les internes</li>
                <li>Lecture sans impact sur l‚Äô√©criture</li>
            </ul>
            <p>
                üëâ Utilis√©e uniquement pour la <strong>query</strong>, jamais pour modifier l‚Äô√©tat.
            </p>
        </section>

        <!-- STATE CHANGE -->
        <section>
            <h2>Changer l‚Äô√©tat d‚Äôun microservice</h2>
            <p>
                Un microservice est le <strong>seul responsable</strong> de son √©tat.
            </p>
            <ul>
                <li>Commande ‚Üí validation interne</li>
                <li>Changement d‚Äô√©tat local</li>
                <li>Publication d‚Äôun √©v√©nement m√©tier</li>
            </ul>
            <p>
                Les autres services r√©agissent, mais ne pilotent jamais cet √©tat.
            </p>
        </section>

        <!-- AUDIT -->
        <section>
            <h2>Piste d‚Äôaudit</h2>
            <p>
                Les √©v√©nements m√©tier forment une <strong>trace compl√®te et chronologique</strong>.
            </p>
            <ul>
                <li>Qui a fait quoi</li>
                <li>Quand et pourquoi</li>
                <li>Reconstruction d‚Äôun √©tat pass√©</li>
            </ul>
        </section>

        <!-- Quarkus Pulse Extension -->
        <section>
            <h2>Quarkus Pulse Extension</h2>
            <h3>Postgres, Debezium, Kafka, Encryption</h3>
            <section>
                <h2>Writer</h2>
                <ul>
                    <li>CommandHandlers</li>
                    <li>Event sourcing</li>
                    <li>Encryption des events et aggregates</li>
                </ul>
            </section>
            <section>
                <h2>Publisher</h2>
                <h3>Debezium</h3>
                <ul>
                    <li>Push events into Kafka topic</li>
                    <li>Push aggregates into Kafka topic</li>
                </ul>
            </section>
            <section>
                <h2>Consumer</h2>
                <ul>
                    <li>Consume events</li>
                    <li>Consume aggregates</li>
                    <li>Decryption events et Aggregate</li>
                </ul>
            </section>
            <section>
                <h2>Live notifier</h2>
                <ul>
                    <li>Message fire</li>
                    <li>Forget if not consumed</li>
                    <li>Audience</li>
                    <li>SSE</li>
                </ul>
            </section>
        </section>

        <!-- CONCLUSION -->
        <section>
            <h2>En r√©sum√©</h2>
            <ul>
                <li>Microservices align√©s sur les contextes m√©tiers</li>
                <li>DDD pour structurer la complexit√©</li>
                <li>√âv√©nements pour propager les changements</li>
                <li>API Composition pour les besoins de lecture</li>
            </ul>
            <p>
                Une architecture pens√©e pour durer et √©voluer.
            </p>
        </section>

        <!-- DEMO -->
        <section>
            <h2>D√©mo</h2>
            <p>Cr√©perie</p>
            <ul>
                <li>Salle : prise de commande</li>
                <li>Cuisine : production</li>
                <li>Gestion : statistics</li>
            </ul>
        </section>
    </div>
</div>

<script>
    Reveal.initialize({
        plugins: [RevealMarkdown], slideNumber: 'c/t',
        width: 1280,
        height: 720,
        margin: 0.08,
        center: false,
        scroll: true
    });
</script>
</body>
</html>
